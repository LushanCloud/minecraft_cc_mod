# 海龟脚本使用说明

本文档详细说明了仓库中所有脚本的使用方法、注意事项和配置说明。

---

## 📋 目录
- [tree.lua - 自动砍树机](#treelua---自动砍树机)
- [lava.lua - 自动岩浆收集机](#lavalua---自动岩浆收集机)

---

## 🌲 tree.lua - 自动砍树机

### 功能描述
全自动砍树脚本，可以自动种树、等待树木生长、砍伐树木并将木头存入箱子。

### 使用场景
- 无人值守的木材收集
- 自动化木材农场
- 长期运行的资源收集系统

### 建筑布局要求

```
[箱子]   ← 在海龟正下方放置箱子（用于存放木头）
[海龟]   ← 海龟位置（面朝种树位置）
[空地]   ← 海龟正前方1格，用于种树
```

### 物品准备

**必需物品：**
- **树苗**：放在海龟的第1个格子中
  - 数量：建议至少1组（64个）
  - 支持各种树苗（橡树、云杉、白桦等）

**可选物品：**
- 燃料（煤炭等）：根据需要决定

### 操作步骤

1. 在海龟正下方放置一个箱子
2. 在海龟物品栏的**第1格**放入树苗（至少1个）
3. 确保海龟前方有空地可以种树
4. 运行脚本：`tree`

### 工作流程

1. **检查并种树**：如果前方没有方块，自动种下树苗
2. **检测树木**：持续检测前方是否有原木（树木已生长）
3. **砍伐树木**：
   - 砍掉底部原木并向前移动
   - 向上砍伐，直到顶部没有原木
   - 自动下降回到地面
   - 退回原始位置
4. **存储木头**：将第2-16格的物品（木头）存入下方箱子
5. **循环运行**：重复以上步骤

### 注意事项

⚠️ **重要提示：**
- 海龟必须有足够的燃料才能运行
- 树苗必须放在第1格，其他格子会被清空到箱子
- 确保前方有足够的垂直空间让树木生长（建议至少8格高）
- 脚本会无限循环运行，需要手动停止（Ctrl+T）
- 等待时间为5秒，如果树木生长较慢可修改脚本中的 `os.sleep(5)`

### 常见问题

**Q: 树木长得太慢怎么办？**  
A: 可以修改脚本第44行的 `os.sleep(5)` 改为更长时间，如 `os.sleep(60)`（60秒）

**Q: 可以砍大型树木吗（如丛林树）？**  
A: 可以，但建议确保海龟前方只种1棵树，避免复杂的树冠结构

**Q: 箱子满了会怎样？**  
A: 海龟会停止工作，需要清空箱子后才能继续

---

## 🔥 lava.lua - 自动岩浆收集机

### 功能描述
从一排炼药锅中自动收集岩浆，将岩浆桶存入箱子，并可选择使用岩浆桶为自己加燃料。支持自动补给空桶和定时循环收集。

### 使用场景
- 火山群系的岩浆自动收集
- 滴石锥自动岩浆收集系统
- 需要大量岩浆桶的工业化生产

### 建筑布局要求

```
[空桶箱]  [海龟]  [岩浆桶箱]
  ←左边   ↑起点   →后面
          
          [炼药锅1]
          [炼药锅2]
          [炼药锅3]
          ...
          [炼药锅64]
```

**详细说明：**
- 海龟起始位置：坐标(0, y, 0)，面朝正前方
- **左侧箱子**（海龟左边）：存放空桶供海龟抽取
- **后侧箱子**（海龟后面）：存放收集到的岩浆桶
- **右侧炼药锅**：海龟右边一排64个炼药锅（装满岩浆）

### 物品准备

**必需物品：**
- **空桶**：放在海龟左边的箱子中
  - 数量：建议至少2组（128个）
  - 海龟每次最多携带16个
- **燃料**（可选）：如果海龟有燃料限制，脚本会自动使用收集到的岩浆桶加燃料

### 配置参数

**在脚本开头可修改的参数：**

```lua
local length = 64        -- 炼药锅的数量（默认64个）
local sleepTime = 300    -- 每轮收集完成后的休眠时间（秒，默认5分钟）
```

### 操作步骤

1. 按照上述布局要求建造系统
2. 在左侧箱子中放入空桶
3. 确保右侧的炼药锅已装满岩浆
4. 将脚本上传到海龟并运行：`lava`

### 工作流程

1. **初始化**：海龟返回起点(0,0)
2. **存放岩浆桶**：将物品栏中的岩浆桶存入后面的箱子
3. **获取空桶**：从左边箱子抽取空桶（最多16个）
4. **收集岩浆**：
   - 沿着前方移动，检查右侧的炼药锅
   - 如果炼药锅已满（level=3），使用空桶收集岩浆
   - 自动检测燃料，低于50%时使用岩浆桶加燃料
   - 如果空桶用完，自动返回起点补给
5. **返回起点**：64个位置检查完毕后返回
6. **休眠等待**：休眠5分钟（可配置）后重复循环

### 注意事项

⚠️ **重要提示：**
- 脚本会**无限循环**运行，需要手动停止（Ctrl+T）
- 确保左侧箱子有足够的空桶供应
- 定期清空后侧箱子中的岩浆桶，防止箱子满了无法存放
- 炼药锅必须完全装满（3层）才会被收集
- 海龟的燃料阈值为燃料上限的50%，低于此值会自动加燃料

### 参数调整建议

**修改炼药锅数量：**
```lua
local length = 32  -- 如果只有32个炼药锅
```

**修改休眠时间：**
```lua
local sleepTime = 600  -- 改为10分钟（600秒）
local sleepTime = 60   -- 改为1分钟（60秒）
```

**修改燃料阈值：**
```lua
local fuelThreshold = turtle.getFuelLimit() * 0.3  -- 改为30%时加燃料
```

### 常见问题

**Q: 海龟一直提示"No buckets in chest"怎么办？**  
A: 在左侧箱子中补充空桶

**Q: 为什么有些炼药锅没有被收集？**  
A: 确保炼药锅是完全装满的（3层），未满的炼药锅会被跳过

**Q: 可以用于其他液体吗？**  
A: 理论上可以，但脚本针对岩浆优化（包括加燃料功能）

**Q: 海龟卡住不动了？**  
A: 检查路径是否被阻挡，脚本会等待直到路径畅通

---

## 💡 通用提示

### 如何上传脚本到游戏

**方法1：手动复制**
1. 在游戏中右键海龟打开界面
2. 输入 `edit tree` 或 `edit lava`
3. 从本仓库复制代码并粘贴到编辑器
4. 按 `Ctrl` 保存并退出

**方法2：使用 Pastebin（推荐）**
1. 将脚本上传到 pastebin.com
2. 在游戏中输入 `pastebin get <代码> <文件名>`

### 如何停止脚本

按住 `Ctrl + T` 约2秒可强制停止脚本运行

### 燃料管理

- 海龟需要燃料才能移动（除非配置了无限燃料）
- 查看燃料：`print(turtle.getFuelLevel())`
- 添加燃料：将燃料放入海龟选中的格子，运行 `turtle.refuel()`

### 调试技巧

- 在脚本中添加 `print()` 语句输出调试信息
- 使用 `read()` 暂停脚本等待输入，方便观察状态
- 建议先在创造模式下测试脚本

---

## 📞 技术支持

如果遇到问题或需要帮助，请：
- 检查本文档的"注意事项"和"常见问题"部分
- 确认建筑布局和物品配置正确
- 查看海龟的燃料和物品栏状态
